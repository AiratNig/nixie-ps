Version 4
SHEET 1 1844 680
WIRE 208 -208 0 -208
WIRE 304 -208 208 -208
WIRE 544 -208 304 -208
WIRE 672 -208 608 -208
WIRE 544 -192 544 -208
WIRE 608 -192 608 -208
WIRE 0 -160 0 -208
WIRE 736 -160 736 -208
WIRE 848 -160 736 -160
WIRE 928 -160 848 -160
WIRE 992 -160 928 -160
WIRE 208 -128 208 -208
WIRE 736 -128 736 -160
WIRE 848 -128 848 -160
WIRE 992 -128 992 -160
WIRE 0 -16 0 -80
WIRE 208 -16 208 -64
WIRE 544 -16 544 -112
WIRE 544 -16 480 -16
WIRE 608 -16 608 -112
WIRE 736 -16 736 -64
WIRE 992 -16 992 -48
WIRE 800 48 16 48
WIRE 848 48 848 -48
WIRE 848 48 800 48
WIRE 384 80 48 80
WIRE 480 96 480 -16
WIRE 640 96 480 96
WIRE 848 96 848 48
WIRE 480 128 480 96
WIRE 48 144 48 80
WIRE 80 144 48 144
WIRE 304 144 304 -208
WIRE 304 144 256 144
WIRE 640 144 640 96
WIRE -64 176 -112 176
WIRE 80 176 0 176
WIRE 352 176 256 176
WIRE 16 208 16 48
WIRE 80 208 16 208
WIRE 416 208 256 208
WIRE 432 208 416 208
WIRE 848 224 848 176
WIRE -112 240 -112 176
WIRE 80 240 48 240
WIRE 288 240 256 240
WIRE 384 240 384 80
WIRE 480 240 480 224
WIRE 480 240 384 240
WIRE 576 240 480 240
WIRE 640 240 640 208
WIRE 640 240 576 240
WIRE 352 256 352 176
WIRE 480 272 480 240
WIRE 576 272 576 240
WIRE 48 320 48 240
WIRE 288 320 288 240
WIRE 288 320 48 320
WIRE -112 368 -112 320
WIRE 288 368 288 320
WIRE 352 368 352 336
WIRE 480 368 480 352
WIRE 576 368 576 336
WIRE 848 368 848 304
FLAG 288 368 0
FLAG 0 -16 0
FLAG 352 368 0
FLAG -112 368 0
FLAG 480 368 0
FLAG 608 -16 0
FLAG 736 -16 0
FLAG 848 368 0
FLAG 576 368 0
FLAG 992 -16 0
FLAG 928 -160 Vout
FLAG 208 -16 0
FLAG 480 -16 Vd
FLAG 416 208 Vg
FLAG 0 -208 Vin
FLAG 800 48 Vfb
SYMBOL voltage 0 -176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 41 49 Left 2
WINDOW 0 39 17 Left 2
SYMATTR SpiceLine Rser=0.2
SYMATTR InstName Vcc
SYMATTR Value 12
SYMBOL res 336 240 R0
SYMATTR InstName Rfa
SYMATTR Value 47k
SYMBOL res -128 224 R0
SYMATTR InstName Rc
SYMATTR Value 4.7k
SYMBOL cap 0 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cc
SYMATTR Value 22nF
SYMBOL cap 560 272 R0
SYMATTR InstName Csn
SYMATTR Value 0.01µF
SYMBOL cap 720 -128 R0
SYMATTR InstName Cout
SYMATTR Value 0.47µF
SYMBOL res 832 -144 R0
SYMATTR InstName Rfb1
SYMATTR Value {Rfb1}
SYMBOL res 832 80 R0
SYMATTR InstName Rfb2
SYMATTR Value {Rfb2}
SYMBOL res 976 -144 R0
SYMATTR InstName Rload
SYMATTR Value {Rload}
SYMBOL diode 672 -192 R270
WINDOW 0 11 84 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value ES3J
SYMBOL nmos 432 128 R0
SYMATTR InstName M1
SYMATTR Value irfh7185pbf
SYMATTR Prefix X
SYMBOL ind2 528 -208 R0
WINDOW 0 -32 56 Left 2
WINDOW 3 -50 81 Left 2
SYMATTR InstName Lp
SYMATTR Value {Lp}
SYMATTR Type ind
SYMBOL ind2 624 -96 R180
WINDOW 0 -30 53 Left 2
WINDOW 3 -45 29 Left 2
SYMATTR InstName Ls
SYMATTR Value {Ls}
SYMATTR Type ind
SYMBOL cap 192 -128 R0
SYMATTR InstName Cin
SYMATTR Value 100µF
SYMBOL TVSdiode 624 144 R0
WINDOW 0 45 39 Left 2
SYMATTR InstName D2
SYMATTR Value SMDJ70CA
SYMATTR Prefix X
SYMBOL res 832 208 R0
SYMATTR InstName Rtrim
SYMATTR Value {Rtrim}
SYMBOL LM3488_TRANS 160 192 R0
SYMATTR InstName U1
SYMBOL res 464 256 R0
SYMATTR InstName Rsn
SYMATTR Value 0.01
TEXT -280 32 Left 2 !.tran 0 10m 1u 1u uic
TEXT -280 56 Left 2 !.include ES3J.lib
TEXT 512 -224 Left 2 !K Lp Ls 0.95
TEXT -280 104 Left 2 !.include irfh7185pbf.spi
TEXT -280 80 Left 2 !.include SMDJxxxCA.lib
TEXT -200 -360 Left 2 !.param Iout = {45m} Vout = {180} Vfb = {1.22}
TEXT -200 -336 Left 2 !.param Rfb1 = {1.2Meg} Rfb2 = {7.5k}
TEXT -200 -312 Left 2 !.param Rtrim = {(Vfb*Rfb1)/(Vout-Vfb)-Rfb2}
TEXT -200 -264 Left 2 !.meas Rtrim__ param Rtrim
TEXT -200 -288 Left 2 !.param Rload = {Vout/Iout}
TEXT 120 -264 Left 2 !.meas Rload__ param Rload
TEXT 888 32 Left 2 ;180V 4W @ 5V in
TEXT 888 64 Left 2 ;180V 8W @ 12V in
TEXT 472 -312 Left 2 !.param Al = {100nH} Wp = {5} Ws = {50}
TEXT 472 -288 Left 2 !.param Lp = {Wp * Wp * Al} Ls = {Ws * Ws * Al}
TEXT 472 -264 Left 2 !.meas Lp__ param Lp
TEXT 720 -264 Left 2 !.meas Ls__ param Ls
